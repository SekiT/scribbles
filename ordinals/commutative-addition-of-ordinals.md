# 順序数に可換な和を定義する

## 定義1

2つの順序数 $λ, μ$ に対し、非可換な和 $λ ⊕ μ$ を以下のように定義する:

1. $λ ⊔ μ$ に順序 $≤$ を以下で定義する:
    $x ≤ y ⇔ (x, y ∈ λ, ~ x ≤ y) ∨ (x, y ∈ μ, ~ x ≤ y) ∨ (x ∈ λ, y ∈ μ)$
1. $λ ⊕ μ = \text{ord}(λ ⊔ μ, ≤)$ とする。

## 性質1

$λ, μ$ が順序数で $λ ≤ μ$ を満たすとき、$λ ⊕ ν = μ$ となる順序数 $ν$ がただ一つ存在する。

### 証明

$X = \{x ∈ μ \mid λ ≤ x\}$ とおく。 $\text{ord}(X, ≤)$ が上記を満たすことを示そう。

$λ ⊔ X$ に対し、$⊕$ の定義のときと同様の順序 $≤$ を定義すれば $λ ⊕ \text{ord}(X, ≤)$ と順序同型である。

ここで、$f : λ ⊔ X → μ$ を $f(x) = x$ で定義すれば明らかに順序同型なので、$λ ⊕ \text{ord}(X, ≤) = μ$ となる。

次に一意性を示す。$λ ⊕ ν = μ$ であったと仮定しよう。

このとき順序同型 $f : λ ⊕ ν → μ$ がとれるが、 $f|_ν$ は $ν$ から $X = \{x ∈ μ \mid λ ≤ x\}$ への順序同型になる。
したがって $ν = \text{ord}(X, ≤)$。

$\square$

## 性質2

任意の順序数 $λ, μ, ν$ に対し、$μ ≤ ν ⇔ λ ⊕ μ ≤ λ ⊕ ν$

### 証明

まず $μ ≤ ν$ であったと仮定する。

このとき包含写像 $ι : λ ⊔ μ → λ ⊔ ν$ は明らかに単射な順序埋め込みである。
ここで順序同型 $f : λ ⊕ μ → λ ⊔ μ$ 及び $g : λ ⊔ ν → λ ⊕ ν$ をとると、
$g \circ ι \circ f : λ ⊕ μ → λ ⊕ ν$ は順序埋め込みである。したがって $λ ⊕ μ ≤ λ ⊕ ν$。

次に、$μ > ν$ であったと仮定する。このとき $λ ⊕ μ > λ ⊕ ν$ となることを証明したい。

前半の議論から $λ ⊕ μ ≥ λ ⊕ ν$ であることはわかるので、 $λ ⊕ μ ≠ λ ⊕ ν$ であることを示せばよい。
$λ ⊕ μ = λ ⊕ ν$ であったと仮定すると、[性質1](#性質1)の一意性より $μ = ν$ となり矛盾する。

$\square$

## 定義2

任意の自然数 $n$ 及び順序数 $λ$ に対し、$λ n$ を以下で帰納的に定義する:

$\begin{aligned}&λ 1& =& ~ λ \\
&λ (n + 1)& =& ~ λ n ⊕ λ\end{aligned}$

## 定義3

任意の順序数 $λ$ に対し、

$λω = \sup_{n ∈ \mathbb{N}}{λn} = \min{\{μ ~|~ ∀n ∈ \mathbb{N} ~ λn < μ\}}$

とする。

## 定義4

以下を満たす順序数 $α > 0$ を **基底順序数** と呼ぶことにする:

$∀λ, μ < α, ~ λ ⊕ μ < α$

例えば $1, ω, ω^2, ω^ω$ などは基底順序数である。

## 補題1

$α, β$ が基底順序数で $α < β$ のとき、 $α ⊕ β = β$ である。

### 証明

まずこのとき $αω ≤ β$ である。なぜならば、もし $αω > β$ だったとすると $∃n ∈ \mathbb{N} ~ αn > β$ となり $β$ が基底順序数であることと矛盾するからである。

以下、$β$ に関する超限帰納法で証明する。$β' < β$ なる任意の基底順序数 $β'$ に対し、 $α < β'$ を満たすすべての基底順序数 $α$ に対して $α ⊕ β' = β'$ が成り立つと仮定する。

$f : α ⊕ β → β$ を以下で定義する。

$f(λ) = \left\{\begin{aligned}&λ && \text{if} ~ λ < α \\ &α ⊕ λ && \text{otherwise}\end{aligned}\right.$

($β$ は基底順序数なので、任意の $λ ∈ β$ に対して $α ⊕ λ < β$ が成り立つことに注意)

これが順序同型であることを示そう。

まず $f$ が全射であることを示す。$∀μ ∈ β$ に対し、

- $μ < α$ のとき、$μ ∈ α$ であり $f(μ) = μ$ である。
- $α ≤ μ$ のとき、[性質1](#性質1)より $α ⊕ λ = μ$ となる $λ$ が存在する。このとき $λ ≤ μ$ なので $λ ∈ β$ である。従って $f(λ) = μ$ となる。

次に $f$ が単射であることを示す。 $f(λ_1) = f(λ_2)$ のとき、

- $λ_1, λ_2 ∈ α$ のとき
  - $λ_1 = f(λ_1) = f(λ_2) = λ_2$ である
- $λ_1 ∈ α, λ_2 ∈ β$ のとき
  - $α > λ_1 = f(λ_1) = f(λ_2) = α ⊕ λ_2 ≥ α$ となり矛盾する
- $λ_1 ∈ β, λ_2 ∈ α$ のとき
  - $α > λ_2 = f(λ_2) = f(λ_1) = α ⊕ λ_1 ≥ α$ となり矛盾する
- $λ_1, λ_2 ∈ β$ のとき
  - $α ⊕ λ_1 = f(λ_1) = f(λ_2) = α ⊕ λ_2$ となり、[性質1](#性質1)の一意性より $λ_1 = λ_2$ となる

最後に $f$ が順序埋め込みであること、すなわち $λ_1 ≤ λ_2 ⇔ f(λ_1) ≤ f(λ_2)$ を示す。

$λ_1 ≤ λ_2$ のとき

- $λ_1, λ_2 ∈ α$ のとき
  - $f(λ_1) = λ_1 ≤ λ_2 = f(λ_2)$
- $λ_1 ∈ α, λ_2 ∈ β$ のとき
  - $f(λ_1) = λ_1 < α ≤ α ⊕ λ_2 = f(λ_2)$
- $λ_1 ∈ β, λ_2 ∈ α$ のとき
  - $α ⊕ β$ における順序の定義から、これはありえない
- $λ_1, λ_2 ∈ β$ のとき
  - [性質2](#性質2)より、 $f(λ_1) = α ⊕ λ_1 ≤ α ⊕ λ_2 = f(λ_2)$

$f(λ_1) ≤ f(λ_2)$ のとき

- $λ_1, λ_2 ∈ α$ のとき
  - $λ_1 = f(λ_1) ≤ f(λ_2) = λ_2$
- $λ_1 ∈ α, λ_2 ∈ β$ のとき
  - $α ⊕ β$ における順序の定義から $λ_1 ≤ λ_2$
- $λ_1 ∈ β, λ_2 ∈ α$ のとき
  - $α ≤ α ⊕ λ_1 = f(λ_1) ≤ f(λ_2) = λ_2 < α$ となり矛盾する
- $λ_1, λ_2 ∈ β$ のとき
  - もし $λ_1 > λ_2$ であったとすると $f(λ_1) = α ⊕ λ_1 ≥ α ⊕ λ_2 = f(λ_2)$ となる
  - 従って仮定の $f(λ_1) ≤ f(λ_2)$ と合わせて $f(λ_1) = f(λ_2)$
  - ここで[性質1](#性質1)の一意性より $λ_1 = λ_2$ となり矛盾する

$\square$

## 定理1

任意の順序数 $λ > 0$ に対し、

$λ = α_1 n_1 ⊕ α_2 n_2 ⊕ \cdots ⊕ α_m n_m$

となる自然数 $m$ 及び基底順序数 $α_1 > α_2 > \cdots > α_m$ 及び自然数 $n_1, \cdots, n_m$ が一意に存在する。

($λ = 0$ の場合は $m = 0$ と考えることも出来る)

### 証明

まず存在性を $λ$ に対する超限帰納法で示す。

$λ$ が基底順序数のとき、$m = 1, α_1 = λ, n_1 = 1$ とすれば良い

$λ$ が基底順序数でないとき、$μ_1 ⊕ ν ≥ λ$ となる順序数 $μ_1, ν < λ$ が存在する。

ここで $μ_1 < λ$ 及び[性質1](#性質1)より $μ_1 ⊕ μ_2 = λ$ となる $μ_2$ が存在する。
また[性質2](#性質2)より $μ_2 ≤ ν < λ$ である。

帰納法の仮定から、$μ_1 = α_1 n_1 ⊕ \cdots ⊕ α_m n_m$ 及び $μ_2 =α'_1 n'_1 ⊕ \cdots ⊕ α'_{m'} n'_{m'}$ と出来る。

- $α_1 < α'_1$ のとき
  - $1 ≤ ∀i ≤ m$ に対して $α_i ≤ α_1 < α'_1$ となる。
  - [補題1](#補題1)及び $⊕$ の結合性から、$λ = μ_1 ⊕ μ_2 = α'_1 n'_1 ⊕ \cdots ⊕ α'_{m'} n'_{m'}$ となる。
  - 当然 $α'_1 > α'_2 > \cdots > α'_{m'}$ である。
- $∃i ~ α_i = α'_1$ のとき
  - $i < ∀j ≤ m$ に対して $α_j < α_i = α'_1$ となる。
  - [補題1](#補題1)及び $⊕$ の結合性から、
    $λ = μ_1 ⊕ μ_2 = α_1 n_1 ⊕ \cdots ⊕ α_i n_i ⊕ α'_1 n'_1 ⊕ \cdots ⊕ α'_{m'} n'_{m'}$<br>
    $= α_1 n_1 ⊕ \cdots ⊕ α_{i-1} n_{i-1} ⊕ α'_1 (n_i + n'_1) ⊕ α'_2 n'_2 ⊕ \cdots ⊕ α'_{m'} n'_{m'}$ となる。
  - このとき確かに $α_1 > α_2 > \cdots > α_{i-1} > α_i = α'_1 > α'_2 > \cdots > α'_{m'}$ となっている。
- 上記以外で $∃i ~ α_1 > α'_1$ のとき
  - そのような $i$ の最大値を新たに $i$ とおく。
  - このとき $i < ∀j ≤ m$ に対して $α_j < α'_1$ であるので、[補題1](#補題1)及び $⊕$ の結合性から、
    $λ = μ_1 ⊕ μ_2 = α_1 n_1 ⊕ \cdots ⊕ α_i n_i ⊕ α'_1 n'_1 ⊕ \cdots ⊕ α'_{m'} n'_{m'}$ となる。
  - このとき確かに $α_1 > α_2 > \cdots > α_i > α'_1 > α'_2 > \cdots > α'_{m'}$ となっている。

次に一意性を証明する。

$λ = α_1 n_1 ⊕ \cdots ⊕ α_m n_m = α'_1 n'_1 ⊕ \cdots ⊕ α'_{m'} n'_{m'}$ と2通りに表せたとする。

もし $α_1 < α'_1$ ならば、[補題1](#補題1)の証明の冒頭、[性質2](#性質2)、及び $a_1 > a_2 > \cdots > a_m$ から、
$α'_1 ≥ α_1 ω > α_1 (n_1 + 1) > α_1 n_1 ⊕ α_2 n_2 ⊕ \cdots ⊕ α_m n_m$ となり矛盾。

従って $α_1 ≤ α'_1$ となり、対称的な議論から $α_1 ≥ α'_1$ となる。よって $α_1 = α'_1$ である。

もし $n_1 < n'_1$ だったとすると、$α_1$ が基底順序数であることから $α_2 n_2 ⊕ \cdots ⊕ α_m n_m < α_1$ であるので、[性質2](#性質2)から
$α_1 n_1 ⊕ \cdots ⊕ α_m n_m < α_1 (n_1 + 1) ≤ α'_1 n'_1 ≤ α'_1 n'_1 ⊕ \cdots ⊕ α'_{m'} n_{m'}$ となり矛盾。

従って $n_1 ≥ n'_1$ となり、対称的な議論から $n_1 ≤ n'_1$ となる。よって $n_1 = n'_1$ である。

ここで[性質1](#性質1)の一意性から $α_2 n_2 ⊕ \cdots ⊕ α_m n_m = α'_2 n'_2 ⊕ \cdots ⊕ α'_{m'} n'_{m'}$ となる。

そこで、ここまでと同様の議論を繰り返し、 $α_2 = α'_2, n_2 = n'_2, α_3 = α'_3, n_3 = n'_3, …$ となる。
$m < n$ ならば途中で $0 = α'_{m+1} n_{m+1} ⊕ \cdots ⊕ α'_{m'} n'_{m'}$ となり矛盾し、$m > n$ でも同様に矛盾する。

$\square$

## 定義5

順序数 $λ, μ$ に対し $λ = α_1 n_1 ⊕ \cdots ⊕ α_m n_m, μ = α'_1 n'_1 ⊕ \cdots ⊕ α'_{m'} n'_{m'}$ と表しておく。

このとき $\{α_1, …, α_m, α'_1, …, α'_{m'}\}$ の元を大きい順に並べたものを $β_1 > β_2 > \cdots > β_l$ とし、
$1 ≤ i ≤ l$ に対して

$c_i = \left\{\begin{aligned}
&n_j + n'_k && \text{if} ~ β_i = α_j = α'_k \\
&n_j && \text{if} ~ β_i = α_j \\
&n'_k && \text{if} ~ β_i = α'_k
\end{aligned}\right.$

とする。この上で、

$λ + μ = β_1 c_1 ⊕ \cdots ⊕ β_l c_l$

と定義する。

($λ = μ = 0$ のときは $λ + μ = 0$ とする)

## 定理2

任意の基底順序数 $α$ に対し、 $(α, +)$ は可換モノイドになる。

### 証明

可換であることと、$0$ が単位元となることは定義から明らかである。

結合的であることは、集合の和と自然数の和が結合的であることから従う。

$α$ は基底順序数なので、任意の $λ, μ < α$ に対して $λ + μ < α$ である。

## 定義6

基底順序数 $α$ > 0 に対し、

$$
\bar{Λ}_α = \{ β_1a_1 ⊕ \cdots ⊕ β_na_n ~|~ a_i \in \mathbb{Z}, ~ α > β_1 > ... > β_n, ~ β_i \text{は基底順序数} \}
$$

とする。ただし、ここでの $⊕$ は単なる記号であり、演算ではない。
また、$n = 0$ のときの値として $0 \in \bar{Λ}_α$ としておく。

$\forall λ, μ \in \bar{Λ}_α$ に対し、

$$ λ = β_1 a_1 ⊕ \cdots ⊕ β_m a_m$$
$$μ = β'_1 a'_1 ⊕ \cdots ⊕ β'_{m'} a'_{m'}$$

と表しておく。

このとき $\{β_1, …, β_m, β'_1, …, β'_{m'}\}$ の元を大きい順に並べたものを $γ_1 > γ_2 > \cdots > γ_l$ とし、
$1 ≤ i ≤ l$ に対して

$b_i = \left\{\begin{aligned}
&a_j + a'_k && \text{if} ~ γ_i = β_j = β'_k \\
&a_j && \text{if} ~ γ_i = β_j \\
&a'_k && \text{if} ~ γ_i = β'_k
\end{aligned}\right.$

とする。この上で、

$λ + μ = γ_1 b_1 ⊕ \cdots ⊕ γ_l b_l$

と定義する。

($λ = μ = 0$ のときは $λ + μ = 0$ とする)

## 定理3

$(\bar{Λ}_α, +)$ は可換群となる。

### 証明

0 が単位元であり、可換であることは定義より明らか。
結合性は$\mathbb{Z}$における加法の結合性及び集合の和の結合性より従う。

また、任意の $β_1a_1 ⊕ \cdots ⊕ β_na_n \in \bar{Λ}_α$ に対し、
$β_1(-a_1) ⊕ \cdots ⊕ β_n(-a_n) \in \bar{Λ}_α$ が逆元となる。

$\square$
