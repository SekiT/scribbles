# 順序数に可換な和を定義する

## 定義1

2つの順序数 $λ, μ$ に対し、非可換な和 $λ ⊕ μ$ を以下のように定義する:

1. $λ ⊔ μ$ に順序 $≤$ を以下で定義する:
    $x ≤ y ⇔ (x, y ∈ λ, ~ x ∈ y) ∨ (x, y ∈ μ, ~ x ∈ y) ∨ (x ∈ λ, y ∈ μ)$
1. $λ ⊕ μ = \text{ord}(λ ⊔ μ, ≤)$ とする。

## 性質1

$λ, μ$ が順序数で $λ ≤ μ$ を満たすとき、$λ ⊕ ν = μ$ となる順序数 $ν$ がただ一つ存在する。

### 証明

(TODO)

## 性質2

任意の順序数 $λ, μ, ν$ に対し、$μ ≤ ν ⇔ λ ⊕ μ ≤ λ ⊕ ν$

### 証明

(TODO)

## 定義2

任意の自然数 $n$ 及び順序数 $λ$ に対し、$λ n$ を以下で帰納的に定義する:

$\begin{aligned}&λ 1& =& ~ λ \\
&λ (n + 1)& =& ~ λ n ⊕ λ\end{aligned}$

## 定義3

任意の順序数 $λ$ に対し、

$λω = \sup_{n ∈ \mathbb{N}}{λn} = \min{\{μ ~|~ ∀n ∈ \mathbb{N} ~ λn < μ\}}$

とする。

## 定義4

以下を満たす順序数 $α > 0$ を **基底順序数** と呼ぶことにする:

$∀λ, μ < α, ~ λ ⊕ μ < α$

例えば $1, ω, ω^2, ω^ω$ などは基底順序数である。

## 補題1

$α, β$ が基底順序数で $α < β$ のとき、 $α ⊕ β = β$ である。

### 証明

まずこのとき $αω ≤ β$ である。なぜならば、もし $αω > β$ だったとすると $∃n ∈ \mathbb{N} ~ αn > β$ となり $β$ が基底順序数であることと矛盾するからである。

以下、$β$ に関する超限帰納法で証明する。$β' < β$ なる任意の基底順序数 $β'$ に対し、 $α < β'$ を満たすすべての基底順序数 $α$ に対して $α ⊕ β' = β'$ が成り立つと仮定する。

$f : α ⊕ β → β$ を以下で定義する。

$f(λ) = \left\{\begin{aligned}&λ && \text{if} ~ λ < α \\ &α ⊕ λ && \text{otherwise}\end{aligned}\right.$

($β$ は基底順序数なので、任意の $λ ∈ β$ に対して $α ⊕ λ < β$ が成り立つことに注意)

これが順序同型であることを示そう。

まず $f$ が全射であることを示す。$∀μ ∈ β$ に対し、

- $μ < α$ のとき、$μ ∈ α$ であり $f(μ) = μ$ である。
- $α ≤ μ$ のとき、[性質1](#性質1)より $α ⊕ λ = μ$ となる $λ$ が存在する。このとき $λ ≤ μ$ なので $λ ∈ β$ である。従って $f(λ) = μ$ となる。

次に $f$ が単射であることを示す。 $f(λ_1) = f(λ_2)$ のとき、

- $λ_1, λ_2 ∈ α$ のとき
  - $λ_1 = f(λ_1) = f(λ_2) = λ_2$ である
- $λ_1 ∈ α, λ_2 ∈ β$ のとき
  - $α > λ_1 = f(λ_1) = f(λ_2) = α ⊕ λ_2 ≥ α$ となり矛盾する
- $λ_1 ∈ β, λ_2 ∈ α$ のとき
  - $α > λ_2 = f(λ_2) = f(λ_1) = α ⊕ λ_1 ≥ α$ となり矛盾する
- $λ_1, λ_2 ∈ β$ のとき
  - $α ⊕ λ_1 = f(λ_1) = f(λ_2) = α ⊕ λ_2$ となり、[性質1](#性質1)の一意性より $λ_1 = λ_2$ となる

最後に $f$ が順序埋め込みであること、すなわち $λ_1 ≤ λ_2 ⇔ f(λ_1) ≤ f(λ_2)$ を示す。

$λ_1 ≤ λ_2$ のとき

- $λ_1, λ_2 ∈ α$ のとき
  - $f(λ_1) = λ_1 ≤ λ_2 = f(λ_2)$
- $λ_1 ∈ α, λ_2 ∈ β$ のとき
  - $f(λ_1) = λ_1 < α ≤ α ⊕ λ_2 = f(λ_2)$
- $λ_1 ∈ β, λ_2 ∈ α$ のとき
  - $α ⊕ β$ における順序の定義から、これはありえない
- $λ_1, λ_2 ∈ β$ のとき
  - [性質2](#性質2)より、 $f(λ_1) = α ⊕ λ_1 ≤ α ⊕ λ_2 = f(λ_2)$

$f(λ_1) ≤ f(λ_2)$ のとき

- $λ_1, λ_2 ∈ α$ のとき
  - $λ_1 = f(λ_1) ≤ f(λ_2) = λ_2$
- $λ_1 ∈ α, λ_2 ∈ β$ のとき　
  - $α ⊕ β$ における順序の定義から $λ_1 ≤ λ_2$
- $λ_1 ∈ β, λ_2 ∈ α$ のとき
  - $α ≤ α ⊕ λ_1 = f(λ_1) ≤ f(λ_2) = λ_2 < α$ となり矛盾する
- $λ_1, λ_2 ∈ β$ のとき
  - もし $λ_1 > λ_2$ であったとすると $f(λ_1) = α ⊕ λ_1 ≥ α ⊕ λ_2 = f(λ_2)$ となる
  - 従って仮定の $f(λ_1) ≤ f(λ_2)$ と合わせて $f(λ_1) = f(λ_2)$
  - ここで[性質1](#性質1)の一意性より $λ_1 = λ_2$ となり矛盾する

$\square$

## 定理1

任意の順序数 $λ > 0$ に対し、

$λ = α_1 n_1 ⊕ α_2 n_2 ⊕ \cdots ⊕ α_m n_m$

となる自然数 $m$ 及び基底順序数 $α_1 > α_2 > \cdots > α_m$ 及び自然数 $n_1, \cdots, n_m$ が一意に存在する。

($λ = 0$ の場合は $m = 0$ と考えることも出来る)

### 証明

まず存在性を $λ$ に対する超限帰納法で示す。

$λ$ が基底順序数のとき、$m = 1, α_1 = λ, n_1 = 1$ とすれば良い

$λ$ が基底順序数でないとき、$μ_1 ⊕ ν ≥ λ$ となる順序数 $μ_1, ν < λ$ が存在する。

ここで $μ_1 < λ$ 及び[性質1](#性質1)より $μ_1 ⊕ μ_2 = λ$ となる $μ_2$ が存在する。
また[性質2](#性質2)より $μ_2 ≤ ν < λ$ である。

帰納法の仮定から、$μ_1 = α_1 n_1 ⊕ \cdots ⊕ α_m n_m$ 及び $μ_2 =α'_1 n'_1 ⊕ \cdots ⊕ α'_{m'} n'_{m'}$ と出来る。

- $α_1 < α'_1$ のとき
  - $1 ≤ ∀i ≤ m$ に対して $α_i ≤ α_1 < α'_1$ となる。
  - [補題1](#補題1)及び $⊕$ の結合性から、$λ = μ_1 ⊕ μ_2 = α'_1 n'_1 ⊕ \cdots ⊕ α'_{m'} n'_{m'}$ となる。
  - 当然 $α'_1 > α'_2 > \cdots > α'_{m'}$ である。
- $∃i ~ α_i = α'_1$ のとき
  - $i < ∀j ≤ m$ に対して $α_j < α_i = α'_1$ となる。
  - [補題1](#補題1)及び $⊕$ の結合性から、
    $λ = μ_1 ⊕ μ_2 = α_1 n_1 ⊕ \cdots ⊕ α_i n_i ⊕ α'_1 n'_1 ⊕ \cdots ⊕ α'_{m'} n'_{m'}$<br>
    $= α_1 n_1 ⊕ \cdots ⊕ α_{i-1} n_{i-1} ⊕ α'_1 (n_i + n'_1) ⊕ α'_2 n'_2 ⊕ \cdots ⊕ α'_{m'} n'_{m'}$ となる。
  - このとき確かに $α_1 > α_2 > \cdots > α_{i-1} > α_i = α'_1 > α'_2 > \cdots > α'_{m'}$ となっている。
- 上記以外で $∃i ~ α_1 > α'_1$ のとき
  - そのような $i$ の最大値を新たに $i$ とおく。
  - このとき $i < ∀j ≤ m$ に対して $α_j < α'_1$ であるので、[補題1](#補題1)及び $⊕$ の結合性から、
    $λ = μ_1 ⊕ μ_2 = α_1 n_1 ⊕ \cdots ⊕ α_i n_i ⊕ α'_1 n'_1 ⊕ \cdots ⊕ α'_{m'} n'_{m'}$ となる。
  - このとき確かに $α_1 > α_2 > \cdots > α_i > α'_1 > α'_2 > \cdots > α'_{m'}$ となっている。

次に一意性を証明する。

$λ = α_1 n_1 ⊕ \cdots ⊕ α_m n_m = α'_1 n'_1 ⊕ \cdots ⊕ α'_{m'} n'_{m'}$ と2通りに表せたとする。

もし $α_1 < α'_1$ ならば、[補題1](#補題1)の証明の冒頭、[性質2](#性質2)、及び $a_1 > a_2 > \cdots > a_m$ から、
$α'_1 ≥ α_1 ω > α_1 (n_1 + 1) > α_1 n_1 ⊕ α_2 n_2 ⊕ \cdots ⊕ α_m n_m$ となり矛盾。

従って $α_1 ≤ α'_1$ となり、対称的な議論から $α_1 ≥ α'_1$ となる。よって $α_1 = α'_1$ である。

もし $n_1 < n'_1$ だったとすると、$α_1$ が基底順序数であることから $α_2 n_2 ⊕ \cdots ⊕ α_m n_m < α_1$ であるので、[性質2](#性質2)から
$α_1 n_1 ⊕ \cdots ⊕ α_m n_m < α_1 (n_1 + 1) ≤ α'_1 n'_1 ≤ α'_1 n'_1 ⊕ \cdots ⊕ α'_{m'} n_{m'}$ となり矛盾。

従って $n_1 ≥ n'_1$ となり、対称的な議論から $n_1 ≤ n'_1$ となる。よって $n_1 = n'_1$ である。

ここで[性質1](#性質1)の一意性から $α_2 n_2 ⊕ \cdots ⊕ α_m n_m = α'_2 n'_2 ⊕ \cdots ⊕ α'_{m'} n'_{m'}$ となる。

そこで、ここまでと同様の議論を繰り返し、 $α_2 = α'_2, n_2 = n'_2, α_3 = α'_3, n_3 = n'_3, …$ となる。
$m < n$ ならば途中で $0 = α'_{m+1} n_{m+1} ⊕ \cdots ⊕ α'_{m'} n'_{m'}$ となり矛盾し、$m > n$ でも同様に矛盾する。

$\square$
